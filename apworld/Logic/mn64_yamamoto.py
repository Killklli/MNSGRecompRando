"""Logic file for Yamamoto."""

from .mn64_logic_classes import MN64DoorType, MN64HintRegion, MN64Items, MN64Levels, MN64LocationLogic, MN64Region, MN64TransitionFront

LogicRegions = {
    "YamamotoShrineExterior": MN64Region(
        name="Yamamoto Shrine Exterior",
        hint_name=MN64HintRegion.YAMAMOTO,
        level=MN64Levels.YAMAMOTO,
        locations=[],
        exits=[
            MN64TransitionFront("BenkeiBridge", lambda l: l.achilles_heel, type=MN64DoorType.DOOR),
            MN64TransitionFront("YamamotoShrineInterior", lambda l: l.moving_boulder_in_forest),
            MN64TransitionFront("YamamotoBambooForest", lambda l: True),
            MN64TransitionFront("TurtleStone", lambda l: True),
            MN64TransitionFront("YamamotoUnderwaterCave", lambda l: l.mermaid and l.yae),
        ],
        room_id=0x133,
        room_default_definitions=[
            0x181,
            0x132,
            0x073,
            0x3DE,
            0x191,
            0x152,
            0x208,
            0x161,
            0x02B,
            0x1FB,
            0x16F,
            0x2D5,
            0x2AF,
            0x01E,
            0x2CA,
            0x195,
            0x038,
        ],
        spawn={"x": -167.0, "y": 351.0, "z": -1226.0},
    ),
    "YamamotoUnderwaterCave": MN64Region(
        name="Yamamoto Underwater Cave",
        hint_name=MN64HintRegion.YAMAMOTO,
        level=MN64Levels.YAMAMOTO,
        locations=[
            MN64LocationLogic(
                "Silver Fortune Doll",
                lambda l: True,
                MN64Items.SILVER_FORTUNE_DOLL,
                flag_id=0x00DF,
                instance_id=0x03,
            ),
        ],
        exits=[
            MN64TransitionFront("YamamotoShrineExterior", lambda l: l.mermaid and l.yae),
        ],
        room_id=0x135,
        room_default_definitions=[
            0x05D,
            0x3E0,
            0x191,
            0x152,
            0x209,
            0x161,
            0x323,
            0x01A,
            0x038,
        ],
    ),
    "YamamotoBambooForest": MN64Region(
        name="Yamamoto Bamboo Forest",
        hint_name=MN64HintRegion.YAMAMOTO,
        level=MN64Levels.YAMAMOTO,
        locations=[],
        exits=[
            MN64TransitionFront("YamamotoShrineExterior", lambda l: True),
            MN64TransitionFront("KiiAwajiIsland", lambda l: True),
        ],
        room_id=0x136,
        room_default_definitions=[
            0x181,
            0x144,
            0x073,
            0x3E1,
            0x191,
            0x152,
            0x2D6,
            0x020,
            0x197,
            0x159,
            0x198,
            0x1B6,
        ],
        enemies={
            0x06: 0x0FB,
            0x07: 0x0FB,
            0x08: 0x0FD,
            0x09: 0x0FA,
            0x0A: 0x0FA,
            0x0B: 0x0FA,
            0x0C: 0x0FA,
            0x0D: 0x0FA,
            0x0E: 0x0FA,
            0x0F: 0x0FA,
        },
        spawn={"x": -167.0, "y": 351.0, "z": -1226.0},
    ),
    "TurtleStone": MN64Region(
        name="Turtle Stone",
        hint_name=MN64HintRegion.YAMAMOTO,
        level=MN64Levels.YAMAMOTO,
        locations=[
            MN64LocationLogic(
                "Silver Fortune Doll",
                lambda l: True,
                MN64Items.SILVER_FORTUNE_DOLL,
                flag_id=0x0E0,
            ),
            # TODO: We're using ONE flag in this area to track both the shrine and the gate, we should probably split them
            MN64LocationLogic(
                "Moving Boulder in Forest",
                lambda l: True,
                MN64Items.MOVING_BOULDER_IN_FOREST,
                flag_id=0x0C7,
            ),
        ],
        exits=[
            MN64TransitionFront("YamamotoShrineExterior", lambda l: True),
            MN64TransitionFront("KiiAwajiIsland", lambda l: True),
        ],
        room_id=0x137,
        room_default_definitions=[
            0x181,
            0x145,
            0x073,
            0x05D,
            0x3E2,
            0x191,
            0x152,
            0x201,
            0x2D7,
            0x195,
            0x041,
        ],
        spawn={"x": -595.0, "y": -96.0, "z": 108.0},
    ),
    "YamamotoShrineInterior": MN64Region(
        name="Yamamoto Shrine Interior",
        hint_name=MN64HintRegion.YAMAMOTO,
        level=MN64Levels.YAMAMOTO,
        locations=[
            MN64LocationLogic(
                "Normal Health Pickup",
                lambda l: True,
                MN64Items.NORMAL_HEALTH,
                flag_id=0x1806,
                instance_id=0x0A,
            ),
            MN64LocationLogic(
                "Surprise Pack",
                lambda l: True,
                MN64Items.SURPRISE_PACK,
                flag_id=0x00FC,
                instance_id=0x0B,
            ),
            MN64LocationLogic(
                "Silver Fortune Doll Top",
                lambda l: True,
                MN64Items.SILVER_FORTUNE_DOLL,
                flag_id=0x00DD,
                instance_id=0x08,
            ),
            MN64LocationLogic(
                "Silver Fortune Doll Bottom",
                lambda l: True,
                MN64Items.SILVER_FORTUNE_DOLL,
                flag_id=0x00DE,
                instance_id=0x09,
            ),
        ],
        exits=[
            MN64TransitionFront("YamamotoShrineExterior", lambda l: True),
        ],
        room_id=0x134,
        room_default_definitions=[
            0x05D,
            0x07A,
            0x3DF,
            0x191,
            0x152,
            0x322,
            0x02B,
            0x1FB,
            0x16F,
            0x01E,
            0x2CA,
            0x2C9,
            0x01A,
            0x196,
        ],
        spawn={"x": 51.0, "y": -330.0, "z": 202.0},
    ),
    "KiisCoffeeShop": MN64Region(
        name="Kii's Coffee Shop",
        hint_name=MN64HintRegion.YAMAMOTO,
        level=MN64Levels.YAMAMOTO,
        locations=[],
        exits=[
            MN64TransitionFront("KiiAwajiIsland", lambda l: True),
        ],
        room_id=0x1B3,
        room_default_definitions=[
            0x06A,
            0x05D,
            0x453,
            0x191,
            0x152,
            0x01B,
            0x32F,
            0x29D,
            0x17E,
            0x03B,
            0x282,
            0x273,
            0x27D,
        ],
        spawn={"x": 48.0, "y": -50.0, "z": 35.0},
    ),
    "KiiAwajiIsland": MN64Region(
        name="Kii Awaji Island",
        hint_name=MN64HintRegion.YAMAMOTO,
        level=MN64Levels.YAMAMOTO,
        locations=[
            MN64LocationLogic(
                "Surprise Pack",
                lambda l: True,
                MN64Items.SURPRISE_PACK,
                flag_id=0x00FD,
                instance_id=0x07,
            ),
            MN64LocationLogic(
                "Silver Fortune Doll",
                lambda l: True,
                MN64Items.SILVER_FORTUNE_DOLL,
                flag_id=0x00E1,
                instance_id=0x08,
            ),
        ],
        exits=[
            MN64TransitionFront("YamamotoBambooForest", lambda l: True),
            MN64TransitionFront("HusbandandWifeRocks", lambda l: l.moving_boulder_in_forest),
            MN64TransitionFront("OedoTouristCenterAwajiIslandBranch", lambda l: True),
            MN64TransitionFront("KiisCoffeeShop", lambda l: True),
        ],
        room_id=0x138,
        room_default_definitions=[
            0x181,
            0x133,
            0x073,
            0x05D,
            0x07A,
            0x3E3,
            0x191,
            0x152,
            0x20A,
            0x161,
            0x202,
            0x2D8,
            0x02B,
            0x1FB,
            0x16F,
            0x01A,
            0x196,
            0x1B0,
            0x038,
            0x020,
            0x198,
            0x159,
            0x19E,
        ],
        enemies={
            0x11: 0x0FD,
            0x12: 0x12D,
            0x13: 0x12D,
            0x14: 0x0FD,
            0x15: 0x0FD,
            0x16: 0x12D,
            0x17: 0x12D,
            0x18: 0x12D,
            0x19: 0x12D,
            0x1A: 0x12D,
            0x1B: 0x12D,
        },
        spawn={"x": -595.0, "y": -96.0, "z": 108.0},
    ),
    "OedoTouristCenterAwajiIslandBranch": MN64Region(
        name="Oedo Tourist Center - Awaji Island Branch",
        hint_name=MN64HintRegion.YAMAMOTO,
        level=MN64Levels.YAMAMOTO,
        locations=[
            # TODO: Probably need to make this its own region
            MN64LocationLogic("Dragon Defeated", lambda l: True, MN64Items.FLUTE, flag_id=0x014),
        ],
        exits=[
            MN64TransitionFront("KiiAwajiIsland", lambda l: True),
            MN64TransitionFront("FolypokeVillageEntrance", lambda l: True),
            MN64TransitionFront("OedoTouristCenterAwaBranch", lambda l: True),
        ],
        room_id=0x1B9,
        room_default_definitions=[
            0x06D,
            0x459,
            0x191,
            0x152,
            0x01B,
            0x2AA,
            0x2A8,
            0x29E,
            0x17E,
            0x297,
        ],
        spawn={"x": 142.0, "y": -70.0, "z": 77.0},
    ),
    "HusbandandWifeRocks": MN64Region(
        name="Husband and Wife Rocks",
        hint_name=MN64HintRegion.YAMAMOTO,
        level=MN64Levels.YAMAMOTO,
        locations=[
            MN64LocationLogic(
                "Silver Fortune Doll",
                lambda l: True,
                MN64Items.SILVER_FORTUNE_DOLL,
                flag_id=0x00E2,
                instance_id=0x06,
            ),
        ],
        exits=[
            MN64TransitionFront("KiiAwajiIsland", lambda l: True),
        ],
        room_id=0x139,
        room_default_definitions=[
            0x07A,
            0x3E4,
            0x191,
            0x152,
            0x2D9,
            0x202,
            0x239,
            0x161,
            0x027,
            0x18F,
            0x195,
            0x038,
            0x01E,
            0x2C9,
            0x16F,
            0x01A,
            0x019,
            0x02B,
            0x018,
            0x020,
            0x19E,
        ],
        enemies={
            0x0E: 0x12D,
            0x0F: 0x12D,
            0x10: 0x12D,
            0x11: 0x12D,
            0x12: 0x12D,
            0x13: 0x12D,
            0x14: 0x12D,
        },
        spawn={"x": 142.0, "y": -70.0, "z": 77.0},
    ),
}
