"""Zazen Town Logic Regions"""

from .mn64_logic_classes import MN64DoorType, MN64HintRegion, MN64Items, MN64Levels, MN64LocationLogic, MN64Region, MN64TransitionFront

# TODO: Fix Fish
LogicRegions = {
    "ZazenTownEntrance": MN64Region(
        name="Zazen Town Entrance",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[
            MN64LocationLogic("Yae", lambda l: True, MN64Items.YAE, flag_id=0x03A),
        ],
        exits=[
            MN64TransitionFront("Iga", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("ZazenTownBridge", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x167,
        room_default_definitions=[
            0x2B9,
            0x32A,
            0x061,
            0x05D,
            0x411,
            0x152,
            0x033,
            0x1FA,
            0x16F,
            0x285,
            0x2FE,
            0x02B,
            0x1FF,
            0x037,
        ],
    ),
    "ZazenTownBridge": MN64Region(
        name="Zazen Town Bridge",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[],
        exits=[
            MN64TransitionFront("ZazenTownEntrance", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("ZazenTownMainTown", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x168,
        room_default_definitions=[
            0x181,
            0x14B,
            0x05D,
            0x412,
            0x152,
            0x033,
            0x1FA,
            0x16F,
            0x21B,
            0x162,
            0x2FF,
            0x02B,
            0x1FF,
            0x044,
            0x2C8,
            0x038,
        ],
    ),
    "ZazenTownMainTown": MN64Region(
        name="Zazen Town Main Town",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[],
        exits=[
            MN64TransitionFront("ZazenTownBridge", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("BenkeiBridge", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("ZazenTownWateringhole", lambda l: True),
        ],
        npcs=[
            "NPC Grandmas House",
            "General Store (Food)",
            "Inn",
            "General Store (Armor)",
        ],
        room_id=0x169,
        room_default_definitions=[
            0x061,
            0x413,
            0x499,
            0x152,
            0x033,
            0x1FA,
            0x16F,
            0x300,
            0x02B,
            0x1FF,
            0x03B,
            0x273,
            0x27D,
            0x27B,
            0x275,
            0x272,
            0x27C,
            0x195,
        ],
    ),
    "ZazenTownWateringhole": MN64Region(
        name="Zazen Town Watering hole",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[
            MN64LocationLogic(
                "Silver Fortune Doll",
                lambda l: True,
                MN64Items.SILVER_FORTUNE_DOLL,
                flag_id=0x00EE,
            ),
            # TODO: MIGHT BE 0x037 instead
            MN64LocationLogic(
                "Cucumber Quest Find Priest",
                lambda l: l.event_cucumber_quest_need_key,
                MN64Items.CUCUMBER_QUEST_PRIEST,
                flag_id=0x038,
            ),
            # TODO: Me might need to check if we need to beat Thaisambda for this
            MN64LocationLogic(
                "Miracle Snow",
                lambda l: l.cucumber and l.event_cucumber_quest_need_key,
                MN64Items.MIRACLE_SNOW,
                flag_id=0x035,
            ),
        ],
        exits=[
            MN64TransitionFront("ZazenTownMainTown", lambda l: True),
            MN64TransitionFront("ZazenTownBack", lambda l: True),
        ],
        room_id=0x16A,
        room_default_definitions=[
            0x061,
            0x05D,
            0x414,
            0x49A,
            0x152,
            0x21C,
            0x162,
            0x01A,
            0x301,
            0x021,
            0x19B,
            0x2B9,
            0x02B,
            0x1FF,
            0x16F,
            0x03E,
            0x2B1,
            0x172,
            0x250,
            0x038,
        ],
    ),
    "ZazenTownBack": MN64Region(
        name="Zazen Town Back",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[],
        exits=[
            MN64TransitionFront("ZazenTownWateringhole", lambda l: True),
            MN64TransitionFront("BizenBridge", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("GoldenTemple", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("MtNyoigatakeSidewalk", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("DuckCreekUpstream", lambda l: True, type=MN64DoorType.DOOR),
        ],
        npcs=[
            "Police Station",
            "Resturant",
            "PURASMA",
        ],
        room_id=0x16C,
        room_default_definitions=[
            0x061,
            0x41A,
            0x49B,
            0x152,
            0x033,
            0x1FA,
            0x16F,
            0x303,
            0x02B,
            0x1FF,
            0x03B,
            0x277,
            0x27C,
            0x27A,
            0x274,
            0x278,
            0x195,
        ],
    ),
    "GoldenTemple": MN64Region(
        name="Golden Temple",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[
            MN64LocationLogic(
                "Mini Ebismaru",
                lambda l: l.requires_visiting_ghost_toys_entrance_ebismaru and l.ebismaru,
                MN64Items.MINI_EBISMARU,
                flag_id=0x031,
            ),
            MN64LocationLogic(
                "Jump Gym Key",
                lambda l: l.event_cucumber_quest_need_key,
                MN64Items.JUMP_GYM_KEY,
                flag_id=0x027,
            ),
        ],
        exits=[
            MN64TransitionFront("ZazenTownBack", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x16D,
        room_default_definitions=[
            0x061,
            0x181,
            0x14C,
            0x41B,
            0x152,
            0x256,
            0x162,
            0x172,
            0x039,
            0x26C,
            0x172,
            0x01B,
            0x2A0,
            0x17E,
            0x033,
            0x1FA,
            0x16F,
            0x304,
            0x2AF,
            0x32A,
            0x2B9,
            0x02B,
            0x1FF,
            0x038,
        ],
    ),
    "MtNyoigatakeSidewalk": MN64Region(
        name="Mt Nyoigatake Sidewalk",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[],
        exits=[
            MN64TransitionFront("ZazenTownBack", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("MtNyoigatakeFireShrine", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x16F,
        room_default_definitions=[
            0x061,
            0x41D,
            0x49D,
            0x152,
            0x033,
            0x1FA,
            0x16F,
            0x306,
            0x02B,
            0x03B,
            0x27F,
            0x195,
        ],
    ),
    "MtNyoigatakeFireShrine": MN64Region(
        name="Mt Nyoigatake Fire Shrine",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[
            MN64LocationLogic("Cucumber", lambda l: l.jetpack and l.sasuke, MN64Items.CUCUMBER, flag_id=0x00F),
        ],
        exits=[
            MN64TransitionFront("MtNyoigatakeSidewalk", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x170,
        room_default_definitions=[
            0x061,
            0x41E,
            0x152,
            0x191,
            0x033,
            0x1FA,
            0x16F,
            0x307,
            0x02C,
            0x1AA,
            0x02B,
            0x01B,
            0x2A0,
            0x17E,
            0x039,
        ],
    ),
    "DuckCreekUpstream": MN64Region(
        name="Duck Creek Upstream",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[
            # MN64LocationLogic("Yellow Fish 1", lambda l: l.fish_quest, MN64Items.YELLOW_FISH),
            # MN64LocationLogic("Yellow Fish 2", lambda l: l.fish_quest, MN64Items.YELLOW_FISH),
            # MN64LocationLogic("Yellow Fish 3", lambda l: l.fish_quest, MN64Items.YELLOW_FISH),
            # MN64LocationLogic("Red Fish", lambda l: l.fish_quest, MN64Items.RED_FISH),
            # MN64LocationLogic("Blue Fish", lambda l: l.fish_quest, MN64Items.BLUE_FISH),
        ],
        exits=[
            MN64TransitionFront("ZazenTownBack", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("DuckCreekUnderTownBridge", lambda l: True),
        ],
        room_id=0x172,
        room_default_definitions=[
            0x061,
            0x05D,
            0x420,
            0x49E,
            0x152,
            0x259,
            0x162,
            0x033,
            0x1FA,
            0x16F,
            0x309,
            0x02B,
            0x01E,
            0x2BE,
            0x03B,
            0x272,
            0x044,
            0x2C8,
            0x038,
        ],
    ),
    "DuckCreekUnderTownBridge": MN64Region(
        name="Duck Creek Under Town Bridge",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[
            # MN64LocationLogic("Red Fish 1", lambda l: l.fish_quest, MN64Items.RED_FISH),
            # MN64LocationLogic("Red Fish 2", lambda l: l.fish_quest, MN64Items.RED_FISH),
            # MN64LocationLogic("Yellow Fish", lambda l: l.fish_quest, MN64Items.YELLOW_FISH),
            # MN64LocationLogic("Blue Fish 1", lambda l: l.fish_quest, MN64Items.BLUE_FISH),
            # MN64LocationLogic("Blue Fish 2", lambda l: l.fish_quest, MN64Items.BLUE_FISH),
        ],
        exits=[
            MN64TransitionFront("DuckCreekUpstream", lambda l: True),
            MN64TransitionFront("DuckCreekUshiwaka", lambda l: True),
        ],
        room_id=0x168,
        room_default_definitions=[
            0x181,
            0x14B,
            0x05D,
            0x412,
            0x152,
            0x033,
            0x1FA,
            0x16F,
            0x21B,
            0x162,
            0x2FF,
            0x02B,
            0x1FF,
            0x044,
            0x2C8,
            0x038,
        ],
    ),
    "DuckCreekUshiwaka": MN64Region(
        name="Duck Creek Ushiwaka",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[
            # MN64LocationLogic("Fish Quest Start", lambda l: True, MN64Items.FISH_QUEST_START),
            MN64LocationLogic("Achilles Heel", lambda l: True, MN64Items.ACHILLES_HEEL, flag_id=0x029),
            # MN64LocationLogic("Yellow Fish", lambda l: l.fish_quest, MN64Items.YELLOW_FISH),
            # MN64LocationLogic("Red Fish", lambda l: l.fish_quest, MN64Items.RED_FISH),
            # MN64LocationLogic("Blue Fish 1", lambda l: l.fish_quest, MN64Items.BLUE_FISH),
            # MN64LocationLogic("Blue Fish 2", lambda l: l.fish_quest, MN64Items.BLUE_FISH),
        ],
        exits=[
            MN64TransitionFront("DuckCreekUnderTownBridge", lambda l: True),
            MN64TransitionFront("BenkeiBridge", lambda l: True),
        ],
        npcs=[
            "Fish Quest, 3 Blue, 5 Yellow, 8 Red -> Req Meeting Benkei",
        ],
        room_id=0x173,
        room_default_definitions=[
            0x061,
            0x181,
            0x14E,
            0x05D,
            0x421,
            0x152,
            0x25A,
            0x162,
            0x031,
            0x1F2,
            0x044,
            0x2C8,
            0x30A,
            0x2B9,
            0x01E,
            0x2BE,
            0x16F,
            0x195,
            0x039,
            0x26C,
            0x172,
            0x038,
        ],
    ),
    "BenkeiBridge": MN64Region(
        name="Benkei Bridge",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[
            # TODO: Disabled Granting Sasuke dead as we think its an increase value not a flag
            MN64LocationLogic(
                "Beat Benkei",
                lambda l: l.achilles_heel,
                MN64Items.SASUKE_DEAD,
                flag_id=0x033,
            ),
            # MN64LocationLogic("Red Fish 1", lambda l: l.fish_quest, MN64Items.RED_FISH),
            # MN64LocationLogic("Red Fish 2", lambda l: l.fish_quest, MN64Items.RED_FISH),
            # MN64LocationLogic("Blue Fish 1", lambda l: l.fish_quest, MN64Items.BLUE_FISH),
            # MN64LocationLogic("Blue Fish 2", lambda l: l.fish_quest, MN64Items.BLUE_FISH),
            MN64LocationLogic(
                "Cucumber Quest Start",
                lambda l: l.beat_thaisambda,
                MN64Items.CUCUMBER_QUEST_START,
                flag_id=0x023,
            ),
        ],
        exits=[
            MN64TransitionFront("DuckCreekUshiwaka", lambda l: True),
            MN64TransitionFront("ZazenTownMainTown", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront(
                "YamamotoShrineExterior",
                lambda l: l.achilles_heel,
                type=MN64DoorType.DOOR,
            ),
            MN64TransitionFront("DuckCreekJumpArea", lambda l: True),
        ],
        room_id=0x171,
        room_default_definitions=[
            0x079,
            0x05D,
            0x41F,
            0x152,
            0x033,
            0x1FA,
            0x16F,
            0x258,
            0x162,
            0x191,
            0x308,
            0x2B9,
            0x32A,
            0x02B,
            0x01E,
            0x2BE,
            0x031,
            0x1F0,
            0x172,
            0x044,
            0x2C8,
            0x038,
        ],
    ),
    "DuckCreekJumpArea": MN64Region(
        name="Duck Creek Jump Area",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[
            MN64LocationLogic(
                "Silver Fortune Doll",
                lambda l: l.jetpack and l.sasuke,
                MN64Items.SILVER_FORTUNE_DOLL,
                flag_id=0x00EF,
                instance_id=0x0B,
            ),
            # MN64LocationLogic("Red Fish 1", lambda l: l.fish_quest, MN64Items.RED_FISH),
            # MN64LocationLogic("Red Fish 2", lambda l: l.fish_quest, MN64Items.RED_FISH),
            # MN64LocationLogic("Yellow Fish 1", lambda l: l.fish_quest, MN64Items.YELLOW_FISH),
            # MN64LocationLogic("Yellow Fish 2", lambda l: l.fish_quest, MN64Items.YELLOW_FISH),
            # MN64LocationLogic("Blue Fish", lambda l: l.fish_quest, MN64Items.BLUE_FISH),
        ],
        exits=[
            MN64TransitionFront("BenkeiBridge", lambda l: True),
            MN64TransitionFront("BizenBridge", lambda l: True),
        ],
        room_id=0x16B,
        room_default_definitions=[
            0x05D,
            0x415,
            0x152,
            0x21D,
            0x162,
            0x302,
            0x2B9,
            0x02C,
            0x1AA,
            0x044,
            0x2C8,
            0x038,
            0x01A,
        ],
    ),
    "BizenBridge": MN64Region(
        name="Bizen Bridge",
        hint_name=MN64HintRegion.OEDO_TOWN,
        level=MN64Levels.OEDO_TOWN,
        locations=[
            # MN64LocationLogic("Red Fish 1", lambda l: l.fish_quest, MN64Items.RED_FISH),
            # MN64LocationLogic("Red Fish 2", lambda l: l.fish_quest, MN64Items.RED_FISH),
            # MN64LocationLogic("Red Fish 3", lambda l: l.fish_quest, MN64Items.RED_FISH),
            # MN64LocationLogic("Yellow Fish", lambda l: l.fish_quest, MN64Items.YELLOW_FISH),
        ],
        exits=[
            MN64TransitionFront("DuckCreekJumpArea", lambda l: True),
            MN64TransitionFront("Kurashiki", lambda l: l.ghost_toys_defeated, type=MN64DoorType.DOOR),
            MN64TransitionFront("ZazenTownBack", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x16E,
        room_default_definitions=[
            0x061,
            0x05D,
            0x41C,
            0x49C,
            0x152,
            0x257,
            0x162,
            0x033,
            0x1FA,
            0x16F,
            0x2AF,
            0x305,
            0x03B,
            0x279,
            0x274,
            0x02B,
            0x044,
            0x2C8,
            0x038,
        ],
    ),
}
