"""Logic file for Oedo Castle."""

from .mn64_logic_classes import MN64DoorType, MN64HintRegion, MN64Items, MN64Levels, MN64LocationLogic, MN64Region, MN64TransitionFront

LogicRegions = {
    "OedoCastleFoyer": MN64Region(
        name="Oedo Castle Foyer",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[],
        exits=[
            MN64TransitionFront("OedoCastleEntrance", lambda l: True),
            MN64TransitionFront("OedoCastleChainPipeRoom", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x002,
        room_default_definitions=[
            0x05D,
            0x338,
            0x485,
            0x191,
            0x152,
            0x020,
            0x197,
            0x159,
            0x02B,
            0x1F8,
            0x154,
            0x034,
            0x01C,
            0x1A2,
        ],
    ),
    "OedoCastleChainPipeRoom": MN64Region(
        name="Oedo Castle Chain Pipe Room",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic(
                "Silver Key",
                lambda l: l.chain_pipe and l.goemon,
                MN64Items.SILVER_KEY,
                flag_id=0x0110,
                instance_id=0x05,
            ),
        ],
        exits=[
            MN64TransitionFront("OedoCastleFoyer", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront(
                "OedoCastleWaterRoom",
                lambda l: l.has_silver_key(),
                type=MN64DoorType.DOOR,
                consumes_key="silver",
            ),
        ],
        room_id=0x007,
        room_default_definitions=[
            0x05D,
            0x33D,
            0x191,
            0x152,
            0x020,
            0x197,
            0x159,
            0x198,
            0x02B,
            0x1A4,
            0x1F8,
            0x154,
            0x1A3,
            0x01E,
            0x1A6,
        ],
        enemies={0x0A: 0x0FC, 0x0B: 0x0FC, 0x0C: 0x0FC},
    ),
    "OedoCastleWaterRoom": MN64Region(
        name="Oedo Castle Water Room",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic(
                "Mr Elly Fant",
                lambda l: True,
                MN64Items.MR_ELLY_FANT_OEDO_CASTLE,
                flag_id=0x00FF,
                instance_id=0x09,
            ),
            MN64LocationLogic(
                "Silver Fortune Doll",
                lambda l: True,
                MN64Items.SILVER_FORTUNE_DOLL,
                flag_id=0x00CA,
                instance_id=0x0A,
            ),
        ],
        exits=[
            MN64TransitionFront("OedoCastleChainPipeRoom", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("OedoCastleFightRoom1", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront(
                "OedoCastleFloorTileRoom",
                lambda l: l.has_silver_key(),
                type=MN64DoorType.DOOR,
                consumes_key="silver",
            ),
        ],
        room_id=0x009,
        room_default_definitions=[
            0x05D,
            0x33F,
            0x487,
            0x191,
            0x152,
            0x02B,
            0x1F8,
            0x154,
            0x1A4,
            0x25D,
            0x164,
            0x25E,
            0x165,
            0x020,
            0x197,
            0x159,
            0x1B8,
            0x01A,
            0x193,
            0x01E,
            0x1AB,
            0x038,
        ],
        enemies={0x07: 0x103, 0x08: 0x103, 0x0B: 0x0FC, 0x0C: 0x0FC},
    ),
    "OedoCastleFightRoom1": MN64Region(
        name="Oedo Castle Fight Room 1",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic(
                "Silver Key",
                lambda l: True,
                MN64Items.SILVER_KEY,
                flag_id=0x010C,
                instance_id=0x03,
            ),
        ],
        exits=[
            MN64TransitionFront("OedoCastleWaterRoom", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x003,
        room_default_definitions=[
            0x05D,
            0x339,
            0x191,
            0x152,
            0x020,
            0x197,
            0x159,
            0x02B,
            0x1A4,
            0x1F8,
            0x154,
            0x1A3,
            0x021,
            0x199,
        ],
        enemies={0x04: 0x0FB, 0x05: 0x0FB, 0x06: 0x0FB, 0x07: 0x0FF, 0x08: 0x0FF},
    ),
    "OedoCastleFloorTileRoom": MN64Region(
        name="Oedo Castle Floor Tile Room",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic(
                "Silver Key",
                lambda l: True,
                MN64Items.SILVER_KEY,
                flag_id=0x010A,
                instance_id=0x05,
            ),
        ],
        exits=[
            MN64TransitionFront("OedoCastleWaterRoom", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("OedoCastleChainPipeGap", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x000,
        room_default_definitions=[
            0x05D,
            0x336,
            0x483,
            0x191,
            0x152,
            0x020,
            0x198,
            0x159,
            0x02B,
            0x1A4,
            0x1F8,
            0x154,
            0x1A3,
            0x025,
            0x1A0,
            0x155,
        ],
        enemies={
            0x06: 0x0FE,
            0x07: 0x0FE,
            0x08: 0x190,
            0x09: 0x190,
            0x0A: 0x190,
            0x0B: 0x190,
            0x0C: 0x190,
            0x0D: 0x190,
            0x0E: 0x190,
            0x0F: 0x190,
            0x10: 0x190,
            0x11: 0x190,
            0x12: 0x190,
            0x13: 0x190,
            0x14: 0x190,
            0x15: 0x190,
            0x16: 0x190,
            0x17: 0x190,
            0x18: 0x190,
            0x19: 0x190,
            0x1A: 0x190,
            0x1B: 0x190,
        },
    ),
    "OedoCastleChainPipeGap": MN64Region(
        name="Oedo Castle Chain Pipe Gap",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[],
        exits=[
            MN64TransitionFront("OedoCastleFloorTileRoom", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("OedoCastleCongosLegs", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("OedoCastlePotRoom", lambda l: l.chain_pipe and l.goemon, type=MN64DoorType.DOOR),
            MN64TransitionFront(
                "OedoCastleFloorWaterCleanersRoom",
                lambda l: l.has_gold_key(),
                type=MN64DoorType.DOOR,
                consumes_key="gold",
            ),
        ],
        room_id=0x005,
        room_default_definitions=[
            0x05D,
            0x33B,
            0x191,
            0x152,
            0x020,
            0x198,
            0x159,
            0x197,
            0x02B,
            0x1A4,
            0x1F8,
            0x154,
            0x01E,
            0x1A6,
        ],
        enemies={0x0B: 0x0FC, 0x0C: 0x0FE, 0x0D: 0x0FE, 0x0E: 0x0FC},
    ),
    "OedoCastleFloorWaterCleanersRoom": MN64Region(
        name="Oedo Castle Floor Water Cleaners Room",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[],
        exits=[
            MN64TransitionFront("OedoCastleChainPipeGap", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("OedoCastle3Platforms", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x00C,
        room_default_definitions=[
            0x342,
            0x488,
            0x191,
            0x152,
            0x018,
            0x1C2,
            0x02C,
            0x1F5,
            0x175,
            0x22A,
            0x164,
            0x020,
            0x198,
            0x159,
            0x02B,
            0x1F8,
            0x154,
            0x038,
        ],
        enemies={0x09: 0x0FE, 0x0A: 0x0FE},
    ),
    "OedoCastle3Platforms": MN64Region(
        name="Oedo Castle 3 Platforms",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic(
                "Silver Key",
                lambda l: True,
                MN64Items.SILVER_KEY,
                flag_id=0x0112,
                instance_id=0x07,
            ),
        ],
        exits=[
            MN64TransitionFront(
                "OedoCastleFloorWaterCleanersRoom",
                lambda l: True,
                type=MN64DoorType.DOOR,
            ),
            MN64TransitionFront("OedoCastleDrummersRoom", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront(
                "OedoCastleSpikeyWaterRoom",
                lambda l: l.has_silver_key(),
                type=MN64DoorType.DOOR,
                consumes_key="silver",
            ),
        ],
        room_id=0x00A,
        room_default_definitions=[
            0x05D,
            0x340,
            0x191,
            0x152,
            0x02B,
            0x1A4,
            0x1F8,
            0x154,
            0x1A3,
            0x01E,
            0x1A7,
            0x15A,
        ],
    ),
    "OedoCastleDrummersRoom": MN64Region(
        name="Oedo Castle Drummers Room",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic(
                "Silver Fortune Doll",
                lambda l: True,
                MN64Items.SILVER_FORTUNE_DOLL,
                flag_id=0x00CB,
                instance_id=0x05,
            ),
        ],
        exits=[
            MN64TransitionFront("OedoCastle3Platforms", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x00B,
        room_default_definitions=[
            0x05D,
            0x341,
            0x191,
            0x152,
            0x02B,
            0x1F8,
            0x154,
            0x020,
            0x19F,
            0x01A,
        ],
        enemies={0x03: 0x130, 0x04: 0x130},
    ),
    "OedoCastlePotRoom": MN64Region(
        name="Oedo Castle Pot Room",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic(
                "Golden Health",
                lambda l: True,
                MN64Items.GOLDEN_HEALTH,
                instance_id=0x06,
            ),
        ],
        exits=[
            MN64TransitionFront("OedoCastleChainPipeGap", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x004,
        room_default_definitions=[
            0x33A,
            0x191,
            0x152,
            0x02B,
            0x1F8,
            0x154,
            0x01C,
            0x1A2,
            0x01A,
            0x192,
        ],
    ),
    "OedoCastleCongosLegs": MN64Region(
        name="Oedo Castle Congos Legs",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[],
        exits=[
            MN64TransitionFront("OedoCastleChainPipeGap", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("OedoCastleFightRoom2", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x006,
        room_default_definitions=[
            0x33C,
            0x486,
            0x191,
            0x152,
            0x020,
            0x197,
            0x159,
            0x198,
            0x02B,
            0x1F8,
            0x154,
        ],
        enemies={
            0x05: 0x0FC,
            0x06: 0x0FC,
            0x07: 0x0FE,
            0x08: 0x0FC,
            0x09: 0x0FE,
            0x0A: 0x0FE,
            0x0B: 0x0FE,
        },
    ),
    "OedoCastleFightRoom2": MN64Region(
        name="Oedo Castle Fight Room 2",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic(
                "Gold Key",
                lambda l: True,
                MN64Items.GOLD_KEY,
                flag_id=0x010E,
                instance_id=0x03,
            ),
        ],
        exits=[
            MN64TransitionFront("OedoCastleCongosLegs", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x008,
        room_default_definitions=[
            0x05D,
            0x33E,
            0x191,
            0x152,
            0x02B,
            0x1F8,
            0x154,
            0x1A3,
            0x021,
            0x199,
            0x159,
            0x020,
            0x198,
            0x19A,
        ],
        enemies={
            0x04: 0x0FF,
            0x05: 0x0FF,
            0x06: 0x0FD,
            0x07: 0x0FD,
            0x08: 0x100,
            0x09: 0x100,
        },
    ),
    "OedoCastleSpikeyWaterRoom": MN64Region(
        name="Oedo Castle Spikey Water Room",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic(
                "Mr Arrow",
                lambda l: True,
                MN64Items.MR_ARROW_OEDO_CASTLE,
                flag_id=0x0104,
                instance_id=0x0D,
            ),
            MN64LocationLogic(
                "Golden Health",
                lambda l: True,
                MN64Items.GOLDEN_HEALTH,
                instance_id=0x0E,
            ),
        ],
        exits=[
            MN64TransitionFront("OedoCastle3Platforms", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("OedoCastle90ChainPipe", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("OedoCastleFloorCleaners", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x00D,
        room_default_definitions=[
            0x05D,
            0x343,
            0x191,
            0x152,
            0x02B,
            0x1F8,
            0x154,
            0x1A4,
            0x25D,
            0x164,
            0x020,
            0x1B8,
            0x01E,
            0x1AB,
            0x018,
            0x1A8,
            0x15A,
            0x01A,
            0x194,
            0x192,
            0x038,
        ],
        enemies={0x07: 0x103, 0x08: 0x103, 0x09: 0x103},
    ),
    "OedoCastleFloorCleaners": MN64Region(
        name="Oedo Castle Floor Cleaners",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[],
        exits=[
            MN64TransitionFront("OedoCastleSpikeyWaterRoom", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("OedoCastleCongoChest", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x00E,
        room_default_definitions=[
            0x344,
            0x191,
            0x152,
            0x25D,
            0x164,
            0x02B,
            0x1F8,
            0x154,
            0x025,
            0x1CE,
            0x018,
            0x1C2,
        ],
        enemies={0x05: 0x141, 0x06: 0x141},
    ),
    "OedoCastleCongoChest": MN64Region(
        name="Oedo Castle Congo Chest",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic(
                "Normal Health",
                lambda l: True,
                MN64Items.NORMAL_HEALTH,
                instance_id=0x06,
            ),
        ],
        exits=[
            MN64TransitionFront("OedoCastleFloorCleaners", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("OedoCastleFallingPlatformRoom", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x00F,
        room_default_definitions=[
            0x345,
            0x191,
            0x152,
            0x02B,
            0x1F8,
            0x154,
            0x01C,
            0x1A2,
            0x025,
            0x1CE,
            0x020,
            0x198,
            0x159,
        ],
        enemies={0x07: 0x141, 0x08: 0x141, 0x09: 0x0FD},
    ),
    "OedoCastleFallingPlatformRoom": MN64Region(
        name="Oedo Castle Falling Platform Room",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[],
        exits=[
            MN64TransitionFront("OedoCastleCongoChest", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("OedoCastleCongoEntranceRoom", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x010,
        room_default_definitions=[
            0x346,
            0x191,
            0x152,
            0x02B,
            0x1F8,
            0x154,
            0x01C,
            0x1A2,
            0x01E,
            0x1A7,
            0x15A,
        ],
    ),
    "OedoCastleCongoEntranceRoom": MN64Region(
        name="Oedo Castle Congo Entrance Room",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic(
                "Silver Fortune Doll",
                lambda l: True,
                MN64Items.SILVER_FORTUNE_DOLL,
                flag_id=0x00CD,
                instance_id=0x09,
            ),
            MN64LocationLogic(
                "Normal Health 1",
                lambda l: True,
                MN64Items.NORMAL_HEALTH,
                instance_id=0x0F,
            ),
            MN64LocationLogic(
                "Normal Health 2",
                lambda l: True,
                MN64Items.NORMAL_HEALTH,
                instance_id=0x10,
            ),
        ],
        exits=[
            MN64TransitionFront("OedoCastleFallingPlatformRoom", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("CongoBossRoom", lambda l: True),
        ],
        room_id=0x01A,
        room_default_definitions=[
            0x05E,
            0x05D,
            0x350,
            0x191,
            0x152,
            0x02B,
            0x1A9,
            0x02D,
            0x2B8,
            0x171,
            0x02C,
            0x1F5,
            0x175,
            0x325,
            0x2B9,
            0x1F7,
            0x153,
            0x1F8,
            0x154,
            0x01A,
            0x01D,
        ],
    ),
    "CongoBossRoom": MN64Region(
        name="Congo Boss Room",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            # TODO: These share a flag id, we should try to see if any of the unknowns handle it
            MN64LocationLogic("Miracle Moon", lambda l: True, MN64Items.MIRACLE_MOON, flag_id=0x012D),
            MN64LocationLogic("Beat Congo", lambda l: True, MN64Items.BEAT_CONGO, flag_id=0x012D),
        ],
        exits=[
            MN64TransitionFront("OedoCastleCongoEntranceRoom", lambda l: True),
            MN64TransitionFront("OedoCastleLordRoom", lambda l: l.congo_defeated),
        ],
        room_id=0x016,
        room_default_definitions=[
            0x072,
            0x05D,
            0x34C,
            0x191,
            0x152,
            0x02B,
            0x1F8,
            0x154,
            0x2AF,
            0x2B7,
            0x1F7,
            0x153,
            0x01E,
            0x01D,
            0x1AE,
            0x157,
        ],
    ),
    "OedoCastleLordRoom": MN64Region(
        name="Oedo Castle Lord Room",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic("Super Pass", lambda l: True, MN64Items.SUPER_PASS, flag_id=0x000),
        ],
        exits=[
            MN64TransitionFront("CongoBossRoom", lambda l: True),
        ],
        room_id=0x028,
        room_default_definitions=[
            0x05E,
            0x05D,
            0x360,
            0x48A,
            0x191,
            0x152,
            0x283,
            0x16C,
            0x284,
            0x018,
            0x190,
            0x2B9,
            0x02B,
            0x1F8,
            0x154,
            0x036,
        ],
    ),
    "OedoCastle90ChainPipe": MN64Region(
        name="Oedo Castle 90 Chain Pipe",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[],
        exits=[
            MN64TransitionFront("OedoCastleSpikeyWaterRoom", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront(
                "OedoCastleCongoHandRoom",
                lambda l: l.chain_pipe and l.goemon,
                type=MN64DoorType.DOOR,
            ),
        ],
        room_id=0x011,
        room_default_definitions=[
            0x347,
            0x489,
            0x191,
            0x152,
            0x020,
            0x197,
            0x159,
            0x198,
            0x25D,
            0x164,
            0x02B,
            0x1F8,
            0x154,
            0x038,
            0x01E,
            0x1A6,
        ],
        enemies={0x06: 0x0FE, 0x07: 0x0FE, 0x08: 0x0FC},
    ),
    "OedoCastleCongoHandRoom": MN64Region(
        name="Oedo Castle Congo Hand Room",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[],
        exits=[
            MN64TransitionFront("OedoCastle90ChainPipe", lambda l: True, type=MN64DoorType.DOOR),
            MN64TransitionFront("OedoCastleTreasureRoom", lambda l: l.chain_pipe and l.goemon, type=MN64DoorType.DOOR),
            MN64TransitionFront("OedoCastleFightRoom3", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x014,
        room_default_definitions=[
            0x34A,
            0x191,
            0x152,
            0x02B,
            0x1F8,
            0x154,
            0x01E,
            0x1B3,
            0x157,
            0x025,
            0x1CE,
            0x020,
            0x19F,
            0x1A6,
        ],
        enemies={0x08: 0x141, 0x09: 0x130},
    ),
    "OedoCastleFightRoom3": MN64Region(
        name="Oedo Castle Fight Room 3",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic(
                "Silver Key",
                lambda l: True,
                MN64Items.SILVER_KEY,
                flag_id=0x0114,
                instance_id=0x08,
            ),
        ],
        exits=[
            MN64TransitionFront("OedoCastleCongoHandRoom", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x012,
        room_default_definitions=[
            0x05D,
            0x348,
            0x152,
            0x191,
            0x02B,
            0x1F8,
            0x154,
            0x020,
            0x198,
            0x159,
            0x19A,
            0x19F,
            0x1A3,
        ],
        enemies={0x03: 0x0FD, 0x04: 0x0FD, 0x05: 0x100, 0x06: 0x100, 0x07: 0x130},
    ),
    "OedoCastleTreasureRoom": MN64Region(
        name="Oedo Castle Treasure Room",
        hint_name=MN64HintRegion.OEDO_CASTLE,
        level=MN64Levels.OEDO_CASTLE,
        locations=[
            MN64LocationLogic(
                "Silver Fortune Doll",
                lambda l: True,
                MN64Items.SILVER_FORTUNE_DOLL,
                flag_id=0x00CC,
                instance_id=0x03,
            ),
        ],
        exits=[
            MN64TransitionFront("OedoCastleCongoHandRoom", lambda l: True, type=MN64DoorType.DOOR),
        ],
        room_id=0x015,
        room_default_definitions=[
            0x05D,
            0x34B,
            0x191,
            0x152,
            0x02B,
            0x1F8,
            0x154,
            0x01A,
        ],
    ),
}
